<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dynasty Team</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Spicy+Rice&display=swap" rel="stylesheet" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMUFOmwrwfgFY0D7kSsHok5LhRZBEXiPYFq6lF" crossorigin="anonymous" />

    </head>
    <body class="merriweather-sans">
        <nav class="main-navigation">
            <div class="text-center">
                <div class="brand-logo container">
                   <a href="./index.html">
                        <img src="../img/team_png.png">
                    </a>
                </div>
                <div class="col-md-5 header-container">
                    <button id="loadStore" class="store-btn nav-btn">Visit Store</button>
                    <button id="loadAbout" class="about-btn nav-btn">About Us</button>
                    <button id="loadDiscord" class="discord-btn nav-btn ">
                        <i class="fab fa-discord"></i> Discord
                    </button>
                </div>
            </div>
        </nav>
        <main class="main-content mt-5 mb-5">
            <div class="text-center">
                <p class="website-heading">Welcome to DynastyTeam Website!</p>
            </div>
        </main>
        <script src="./script.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script>
            // Load store content into the #main div
            document.addEventListener('DOMContentLoaded', function () {
            const mainDiv = document.querySelector('.main-content');

            // Function to load content dynamically
            function loadContent(url, pushState = true) {
                fetch(url)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.text();
                    })
                    .then(data => {
                        mainDiv.innerHTML = data;
                        if (pushState) {
                            history.pushState({ url: url }, '', url); // Update the address bar
                        }
                    })
                    .catch(error => {
                        console.error('Error loading the content:', error);
                        mainDiv.innerHTML = '<p class="text-danger">Failed to load content.</p>';
                    });
            }

            // Handle initial page load and navigation
            const currentPath = window.location.pathname;
            if (currentPath === '/store') {
                loadContent('store.html', false);
            }

            // Button click event to load the store
            document.getElementById('loadStore').addEventListener('click', function () {
                loadContent('store.html');
            });

            // Handle back/forward browser navigation
            window.addEventListener('popstate', function (event) {
                if (event.state && event.state.url) {
                    loadContent(event.state.url, false);
                }
            });
        });

            

        </script>
    </body>
</html>
